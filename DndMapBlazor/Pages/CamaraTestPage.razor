@page "/CamaraTestPage"
<div>
    <div style="display:flex">
        <div style="position:relative; z-index:2;" id="CamaraVideo">
            <video id="videoFeed" width="640" height="480" />
            <canvas class="d-none" id="currentFrame" width="640" height="480" /><br />
            <svg style="position:absolute;left:0;top:0;" stroke-linejoin="round" width="640px" height="480px">
                <polyline stroke-linejoin="round" points="@points.Select(p => p.x + "," + p.y).Aggregate((x,y) => x + " " + y) @(points[0].x + "," + points[0].y)" stroke="black" stroke-width="1" fill="none" />
            </svg>

            @for (int i = 0; i < points.Length; i++)
            {
                var h = i;
                <div class="VideoDragPoint" draggable="true" @ondragend="x => DragPoint(x,h)" style="left:@(points[h].x)px; top:@(points[h].y)px;@(h==selectedPoint ? "border-color:blue !important;" : "")"></div>
            }

        </div>

        <div style="position:relative; z-index:2;" id="CamaraVideo">
            <img id="img" style="width:640px" src="@Img" />
            <canvas class="d-none" id="currentFrame" width="640" height="480" /><br />
            <svg style="position:absolute;left:0;top:0;" stroke-linejoin="round" width="640px" height="480px">
                <polyline stroke-linejoin="round" points="@points.Select(p => p.x + "," + p.y).Aggregate((x,y) => x + " " + y) @(points[0].x + "," + points[0].y)" stroke="black" stroke-width="1" fill="none" />
            </svg>

            @for (int i = 0; i < points.Length; i++)
            {
                var h = i;
                <div class="VideoDragPoint" draggable="true" @ondragend="x => DragPoint(x,h)" style="left:@(points[h].x)px; top:@(points[h].y)px;@(h==selectedPoint ? "border-color:blue !important;" : "")"></div>
            }

        </div>


        <div style="display:grid;height: min-content;">
        @for(int i = 0; i < images.Count(); i++)
        {
                <img id="@(i)" style="width:64px;height:64px; border:1px solid red; margin:0px; grid-row:@(i % gridY + 1);grid-column:@(1+Math.Floor((double)i/(double)gridY))" src="@images[i]" />
        }
        </div>
    </div>

    <button class="btn btn-primary mb-3" @onclick="WarpImg">Warp</button> <br />
    <button class="btn btn-primary mb-3" @onclick="CaptureFrame">CaputreImg</button> <br />
    <button class="btn btn-primary mb-3" @onclick="WarpImgTemp">WarpImg</button> <br />

    <button class="btn btn-primary mb-3" @onclick="(x)=> points[selectedPoint].y--">↑</button> <br />
    <button class="btn btn-primary mb-3" @onclick="(x)=> points[selectedPoint].y++">↓</button> <br />
    <button class="btn btn-primary mb-3" @onclick="(x)=> points[selectedPoint].x--">←</button> <br />
    <button class="btn btn-primary mb-3" @onclick="(x)=> points[selectedPoint].x++">→</button> <br />

    X<input type="text" @bind-value="gridX" />
    Y<input type="text" @bind-value="gridY" />
    perspectiveWidth<input type="number" @bind-value="perspectiveWidth" step="0.1" min="0" max="100" />

</div>

@code {
    [Inject]
    IJSRuntime? JS { get; set; }

    public string Img { get; set; } = "data:image/jpeg;base64,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";

    public string ImgWrapped { get; set; }
    public List<string> images { get; set; } = new List<string>();

    (double x, double y)[] points { get; set; } = new (double x, double y)[] { new(88, 35), new(215, 30), new(226, 182), new(83, 186) };

    public int selectedPoint { get; set; } = -2;

    int gridX { get; set; } = 5;
    int gridY { get; set; } = 6;

    double perspectiveWidth { get; set; } = 0;

    protected override async Task OnInitializedAsync()
    {
        await JS!.InvokeVoidAsync("startVideo", "videoFeed");
    }

    private async Task CaptureFrame()
    {
        Img = await JS!.InvokeAsync<String>("getFrame", "videoFeed", "currentFrame");
        StateHasChanged();
    }

    private async Task WarpImg()
    {
        var newImages = await JS!.InvokeAsync<String[]>("getWarpedFrame", "videoFeed", "currentFrame", gridX,gridY, points[0].x, points[0].y, points[1].x, points[1].y, points[2].x, points[2].y, points[3].x, points[3].y);
        images.Clear();
        images.AddRange(newImages);
        StateHasChanged();
    }

    private async Task WarpImgTemp()
    {
        var newImages = await JS!.InvokeAsync<String[]>("getWarpedFrame", "img", "currentFrame", gridX, gridY, points[0].x, points[0].y, points[1].x, points[1].y, points[2].x, points[2].y, points[3].x, points[3].y, perspectiveWidth);
        images.Clear();
        images.AddRange(newImages);
        StateHasChanged();
    }

    private async Task DragPoint(DragEventArgs args, int id)
    {
        selectedPoint = id;
        points[id].x += args.OffsetX;
        points[id].y += args.OffsetY;
    }

}
